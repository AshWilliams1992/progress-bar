{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Simone\\\\Documents\\\\WebDesign\\\\_Testing\\\\progress-bar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Simone\\\\Documents\\\\WebDesign\\\\_Testing\\\\progress-bar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Simone\\\\Documents\\\\WebDesign\\\\_Testing\\\\progress-bar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Simone\\\\Documents\\\\WebDesign\\\\_Testing\\\\progress-bar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Simone\\\\Documents\\\\WebDesign\\\\_Testing\\\\progress-bar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';var ProgressComp=function ProgressComp(props){return React.createElement(\"div\",{id:props.id,className:props.class},React.createElement(\"div\",{value:props.value,className:\"percent\"},props.num),React.createElement(\"div\",{style:{width:props.num},className:\"back\"}));};var Button=function Button(props){function changeBar(e){var number=document.querySelector(\".progressBar.selected .percent\");var back=document.querySelector(\".progressBar.selected .back\");var limit=props.limit;var initialVal=number.getAttribute(\"value\");var val=e.target.value;if(val.indexOf('-')===-1){console.log('Positive!');var initPercent=Math.round(initialVal*100/limit);var valPercent=Math.round(val*100/limit);var calcPercent=initPercent+valPercent;var calc=parseInt(initialVal)+parseInt(val);back.classList.remove(\"error\");if(calcPercent>100){back.style.width=\"100%\";back.classList.add(\"error\");}else{back.style.width=calcPercent+\"%\";}number.setAttribute(\"value\",calc);number.innerHTML=calcPercent+\"%\";}else{console.log('Negative!');var valPos=val*-1;var _initPercent=Math.round(initialVal*100/limit);var _valPercent=Math.round(valPos*100/limit);var _calcPercent=_initPercent-_valPercent;var _calc=parseInt(initialVal)-parseInt(valPos);if(_calcPercent<0){back.style.width=\"0%\";number.setAttribute(\"value\",0);number.innerHTML=\"0%\";}else{back.style.width=_calcPercent+\"%\";number.setAttribute(\"value\",_calc);number.innerHTML=_calcPercent+\"%\";if(_calcPercent<100){back.classList.remove(\"error\");}}}console.log(\"Limit: \"+limit,\"ValueBar: \"+number.getAttribute(\"value\"));}console.log(props.value);return React.createElement(\"button\",{value:props.value,onClick:changeBar},props.value<0?props.value:\"+\"+props.value);};var SelectBox=function SelectBox(props){function selectBar(e){var idProgress=e.target.value;var progressEl=document.getElementsByClassName(\"progressBar\");console.log(idProgress);for(var i=0;i<progressEl.length;i++){progressEl[i].classList.remove(\"selected\");}document.getElementById(idProgress).classList.add(\"selected\");}return React.createElement(\"select\",{onChange:selectBar},props.value.map(function(value,index){return React.createElement(\"option\",{key:index,value:'progress'+index},\"Progress \",index+1);}));};var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);function Main(props){var _this;_classCallCheck(this,Main);_this=_possibleConstructorReturn(this,_getPrototypeOf(Main).call(this,props));_this.state={loading:true,progData:[]};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('http://pb-api.herokuapp.com/bars').then(function(response){return response.json();}).then(function(data){_this2.setState({progData:data,loading:false});}).catch(function(error){_this2.setState({error:error});});}},{key:\"render\",value:function render(){var _this$state=this.state,progData=_this$state.progData,loading=_this$state.loading,error=_this$state.error;if(error){return React.createElement(\"main\",null,React.createElement(\"span\",null,\"Something went wrong...\"));}else if(loading){return React.createElement(\"main\",null,React.createElement(\"h2\",null,\"Please wait...\"));}else{// Log correctly\nconsole.log(progData.bars,progData.limit);return React.createElement(\"main\",null,React.createElement(\"section\",{id:\"progressBox\"},progData&&progData.bars&&progData.bars.map(function(value,index){return React.createElement(ProgressComp,{class:index===0?\"progressBar selected\":\"progressBar\",key:index,id:'progress'+index,value:value,num:Math.round(value*100/progData.limit)+'%'});})),React.createElement(\"section\",{id:\"controls\"},React.createElement(\"div\",{className:\"choose\"},React.createElement(\"span\",null,\"Choose your progress bar:\"),progData&&progData.bars&&React.createElement(SelectBox,{value:progData.bars})),React.createElement(\"div\",{className:\"change\"},React.createElement(\"span\",null,\"Change your progress bar:\"),progData&&progData.buttons&&progData.buttons.map(function(value,index){return React.createElement(Button,{key:index,limit:progData.limit,value:value});}))));}}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["C:/Users/Simone/Documents/WebDesign/_Testing/progress-bar/src/template/Main.js"],"names":["React","Component","ProgressComp","props","id","class","value","num","width","Button","changeBar","e","number","document","querySelector","back","limit","initialVal","getAttribute","val","target","indexOf","console","log","initPercent","Math","round","valPercent","calcPercent","calc","parseInt","classList","remove","style","add","setAttribute","innerHTML","valPos","SelectBox","selectBar","idProgress","progressEl","getElementsByClassName","i","length","getElementById","map","index","Main","state","loading","progData","fetch","then","response","json","data","setState","catch","error","bars","buttons"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst ProgressComp = (props) => {\r\n    return (\r\n        <div id={props.id} className={props.class}>\r\n            <div value={props.value} className=\"percent\">{props.num}</div>\r\n            <div style={{ width: props.num }} className=\"back\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Button = (props) => {\r\n\r\n    function changeBar(e) {\r\n\r\n        let number = document.querySelector(\".progressBar.selected .percent\");\r\n        let back = document.querySelector(\".progressBar.selected .back\");\r\n\r\n        const limit = props.limit;\r\n        let initialVal = number.getAttribute(\"value\");\r\n        let val = e.target.value;\r\n\r\n\r\n        if (val.indexOf('-') === -1) {\r\n\r\n            console.log('Positive!');\r\n\r\n            let initPercent = Math.round(initialVal * 100 / limit);\r\n            let valPercent = Math.round(val * 100 / limit);\r\n            let calcPercent = initPercent + valPercent;\r\n            let calc = parseInt(initialVal) + parseInt(val);\r\n\r\n            back.classList.remove(\"error\");\r\n\r\n            if (calcPercent > 100) {\r\n                back.style.width = \"100%\";\r\n                back.classList.add(\"error\");\r\n            } else {\r\n                back.style.width = calcPercent + \"%\";\r\n            }\r\n\r\n            number.setAttribute(\"value\", calc);\r\n            number.innerHTML = calcPercent + \"%\";\r\n\r\n        } else {\r\n\r\n            console.log('Negative!');\r\n\r\n            let valPos = val * -1;\r\n\r\n            let initPercent = Math.round(initialVal * 100 / limit);\r\n            let valPercent = Math.round(valPos * 100 / limit);\r\n            let calcPercent = initPercent - valPercent;\r\n            let calc = parseInt(initialVal) - parseInt(valPos);\r\n\r\n            if (calcPercent < 0) {\r\n                back.style.width = \"0%\";\r\n                number.setAttribute(\"value\", 0);\r\n                number.innerHTML = \"0%\";\r\n            } else {\r\n                back.style.width = calcPercent + \"%\";\r\n                number.setAttribute(\"value\", calc);\r\n                number.innerHTML = calcPercent + \"%\";\r\n\r\n                if (calcPercent < 100) {\r\n                    back.classList.remove(\"error\");\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(\"Limit: \" + limit, \"ValueBar: \" + number.getAttribute(\"value\"));\r\n\r\n    }\r\n\r\n    console.log(props.value);\r\n\r\n    return (\r\n        <button value={props.value} onClick={changeBar}>\r\n            {(props.value < 0) ? props.value : \"+\" + props.value}\r\n        </button>\r\n    );\r\n}\r\n\r\nconst SelectBox = (props) => {\r\n\r\n    function selectBar(e) {\r\n        let idProgress = e.target.value;\r\n        const progressEl = document.getElementsByClassName(\"progressBar\");\r\n        console.log(idProgress);\r\n\r\n        for (let i = 0; i < progressEl.length; i++) {\r\n            progressEl[i].classList.remove(\"selected\");\r\n        }\r\n        document.getElementById(idProgress).classList.add(\"selected\");\r\n    }\r\n\r\n    return (\r\n        <select onChange={selectBar}>\r\n            {\r\n                props.value.map((value, index) =>\r\n                    <option key={index} value={'progress' + index}>Progress {index + 1}</option>\r\n                )\r\n            }\r\n        </select>\r\n    );\r\n}\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            progData: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('http://pb-api.herokuapp.com/bars')\r\n            .then(response => { return response.json(); })\r\n            .then((data) => { this.setState({ progData: data, loading: false }) })\r\n            .catch((error) => { this.setState({ error }) });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { progData, loading, error } = this.state;\r\n\r\n        if (error) {\r\n            return <main><span>Something went wrong...</span></main>;\r\n        } else if (loading) {\r\n            return <main><h2>Please wait...</h2></main>;\r\n        } else {\r\n            // Log correctly\r\n            console.log(progData.bars, progData.limit);\r\n            return (\r\n                <main>\r\n                    <section id=\"progressBox\">\r\n                        {progData && progData.bars && (\r\n                            progData.bars.map((value, index) =>\r\n                                <ProgressComp\r\n                                    class={index === 0 ? \"progressBar selected\" : \"progressBar\"}\r\n                                    key={index}\r\n                                    id={'progress' + index}\r\n                                    value={value}\r\n                                    num={Math.round(value * 100 / progData.limit) + '%'}\r\n                                />\r\n                            )\r\n                        )}\r\n                    </section>\r\n\r\n                    <section id=\"controls\">\r\n\r\n                        <div className=\"choose\">\r\n                            <span>Choose your progress bar:</span>\r\n                            {progData && progData.bars && (\r\n                                <SelectBox value={progData.bars} />\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"change\">\r\n                            <span>Change your progress bar:</span>\r\n                            {progData && progData.buttons && (\r\n                                progData.buttons.map((value, index) =>\r\n                                    <Button key={index} limit={progData.limit} value={value} />\r\n                                )\r\n                            )}\r\n                        </div>\r\n\r\n                    </section>\r\n                </main>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}