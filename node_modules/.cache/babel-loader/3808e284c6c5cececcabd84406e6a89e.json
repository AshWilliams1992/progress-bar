{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Simone\\\\Documents\\\\WebDesign\\\\_Testing\\\\progress-bar\\\\src\\\\template\\\\Main.js\";\nimport React, { Component } from 'react';\n\nconst ProgressComp = props => {\n  function selectBar(e) {\n    let idProgress = e.target.value;\n    const progressEl = document.getElementsByClassName(\"progressBar\");\n\n    for (let i = 0; i < progressEl.length; i++) {\n      progressEl[i].classList.remove(\"selected\");\n    }\n\n    document.getElementById(idProgress).classList.add(\"selected\");\n  }\n\n  return React.createElement(\"div\", {\n    id: props.id,\n    className: props.class,\n    onClick: selectBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    value: props.value,\n    className: \"percent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, props.num), React.createElement(\"div\", {\n    style: {\n      width: props.num\n    },\n    className: \"back\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }));\n};\n\nconst Button = props => {\n  function changeBar(e) {\n    let number = document.querySelector(\".progressBar.selected .percent\");\n    let back = document.querySelector(\".progressBar.selected .back\");\n    const limit = props.limit;\n    let initialVal = number.getAttribute(\"value\");\n    let val = e.target.value;\n\n    if (val.indexOf('-') === -1) {\n      console.log('Positive!');\n      let initPercent = Math.round(initialVal * 100 / limit);\n      let valPercent = Math.round(val * 100 / limit);\n      let calcPercent = initPercent + valPercent;\n      let calc = parseInt(initialVal) + parseInt(val);\n      back.classList.remove(\"error\");\n\n      if (calcPercent > 100) {\n        back.style.width = \"100%\";\n        back.classList.add(\"error\");\n      } else {\n        back.style.width = calcPercent + \"%\";\n      }\n\n      number.setAttribute(\"value\", calc);\n      number.innerHTML = calcPercent + \"%\";\n    } else {\n      console.log('Negative!');\n      let valPos = val * -1;\n      let initPercent = Math.round(initialVal * 100 / limit);\n      let valPercent = Math.round(valPos * 100 / limit);\n      let calcPercent = initPercent - valPercent;\n      let calc = parseInt(initialVal) - parseInt(valPos);\n\n      if (calcPercent < 0) {\n        back.style.width = \"0%\";\n        number.setAttribute(\"value\", 0);\n        number.innerHTML = \"0%\";\n      } else {\n        back.style.width = calcPercent + \"%\";\n        number.setAttribute(\"value\", calc);\n        number.innerHTML = calcPercent + \"%\";\n\n        if (calcPercent < 100) {\n          back.classList.remove(\"error\");\n        }\n      }\n    }\n\n    console.log(\"Limit: \" + limit, \"ValueBar: \" + number.getAttribute(\"value\"));\n  }\n\n  console.log(props.value);\n  return React.createElement(\"button\", {\n    value: props.value,\n    onClick: changeBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, props.value < 0 ? props.value : \"+\" + props.value);\n};\n\nconst SelectBox = props => {\n  function selectBar(e) {\n    let idProgress = e.target.value;\n    const progressEl = document.getElementsByClassName(\"progressBar\");\n    console.log(idProgress);\n\n    for (let i = 0; i < progressEl.length; i++) {\n      progressEl[i].classList.remove(\"selected\");\n    }\n\n    document.getElementById(idProgress).classList.add(\"selected\");\n  }\n\n  return React.createElement(\"select\", {\n    onChange: selectBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, props.value.map((value, index) => React.createElement(\"option\", {\n    key: index,\n    value: 'progress' + index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Progress \", index + 1)));\n};\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      progData: []\n    };\n  }\n\n  componentDidMount() {\n    //- API call data get\n    fetch('https://pb-api.herokuapp.com/bars').then(response => {\n      return response.json();\n    }).then(data => {\n      this.setState({\n        progData: data,\n        loading: false\n      });\n    }).catch(error => {\n      this.setState({\n        error\n      });\n    }); //- Functions on load \n\n    window.addEventListener('load', this.onLoadEvents);\n  }\n\n  onLoadEvents() {\n    //- On click progress bars\n    const progressBars = document.querySelectorAll(\".progressBar\");\n    console.log(idProgress);\n\n    for (let i = 0; i < progressBars.length; i++) {\n      progressBars[i].classList.remove(\"selected\");\n    }\n\n    document.getElementById(idProgress).classList.add(\"selected\");\n  }\n\n  render() {\n    const _this$state = this.state,\n          progData = _this$state.progData,\n          loading = _this$state.loading,\n          error = _this$state.error;\n\n    if (error) {\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Something went wrong...\"));\n    } else if (loading) {\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Please wait...\"));\n    } else {\n      // Log correctly\n      console.log(\"Limit: \" + progData.limit, \"Progress bars: \" + progData.bars, \"Buttons: \" + progData.buttons);\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        id: \"progressBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Choose your progress bar:\"), React.createElement(\"div\", {\n        className: \"choose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, progData && progData.bars && progData.bars.map((value, index) => React.createElement(ProgressComp, {\n        class: index === 0 ? \"progressBar selected\" : \"progressBar\",\n        key: index,\n        id: 'progress' + index,\n        value: value,\n        num: Math.round(value * 100 / progData.limit) + '%',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      })))), React.createElement(\"section\", {\n        id: \"controls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, progData && progData.bars && React.createElement(SelectBox, {\n        value: progData.bars,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"change\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Change your progress bar:\"), progData && progData.buttons && progData.buttons.map((value, index) => React.createElement(Button, {\n        key: index,\n        limit: progData.limit,\n        value: value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })))));\n    }\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["C:/Users/Simone/Documents/WebDesign/_Testing/progress-bar/src/template/Main.js"],"names":["React","Component","ProgressComp","props","selectBar","e","idProgress","target","value","progressEl","document","getElementsByClassName","i","length","classList","remove","getElementById","add","id","class","num","width","Button","changeBar","number","querySelector","back","limit","initialVal","getAttribute","val","indexOf","console","log","initPercent","Math","round","valPercent","calcPercent","calc","parseInt","style","setAttribute","innerHTML","valPos","SelectBox","map","index","Main","constructor","state","loading","progData","componentDidMount","fetch","then","response","json","data","setState","catch","error","window","addEventListener","onLoadEvents","progressBars","querySelectorAll","render","bars","buttons"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst ProgressComp = (props) => {\r\n\r\n    function selectBar(e) {\r\n        let idProgress = e.target.value;\r\n        const progressEl = document.getElementsByClassName(\"progressBar\");\r\n\r\n        for (let i = 0; i < progressEl.length; i++) {\r\n            progressEl[i].classList.remove(\"selected\");\r\n        }\r\n        document.getElementById(idProgress).classList.add(\"selected\");\r\n    }\r\n\r\n    return (\r\n        <div id={props.id} className={props.class} onClick={selectBar}>\r\n            <div value={props.value} className=\"percent\">{props.num}</div>\r\n            <div style={{ width: props.num }} className=\"back\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Button = (props) => {\r\n\r\n    function changeBar(e) {\r\n\r\n        let number = document.querySelector(\".progressBar.selected .percent\");\r\n        let back = document.querySelector(\".progressBar.selected .back\");\r\n\r\n        const limit = props.limit;\r\n        let initialVal = number.getAttribute(\"value\");\r\n        let val = e.target.value;\r\n\r\n\r\n        if (val.indexOf('-') === -1) {\r\n\r\n            console.log('Positive!');\r\n\r\n            let initPercent = Math.round(initialVal * 100 / limit);\r\n            let valPercent = Math.round(val * 100 / limit);\r\n            let calcPercent = initPercent + valPercent;\r\n            let calc = parseInt(initialVal) + parseInt(val);\r\n\r\n            back.classList.remove(\"error\");\r\n\r\n            if (calcPercent > 100) {\r\n                back.style.width = \"100%\";\r\n                back.classList.add(\"error\");\r\n            } else {\r\n                back.style.width = calcPercent + \"%\";\r\n            }\r\n\r\n            number.setAttribute(\"value\", calc);\r\n            number.innerHTML = calcPercent + \"%\";\r\n\r\n        } else {\r\n\r\n            console.log('Negative!');\r\n\r\n            let valPos = val * -1;\r\n\r\n            let initPercent = Math.round(initialVal * 100 / limit);\r\n            let valPercent = Math.round(valPos * 100 / limit);\r\n            let calcPercent = initPercent - valPercent;\r\n            let calc = parseInt(initialVal) - parseInt(valPos);\r\n\r\n            if (calcPercent < 0) {\r\n                back.style.width = \"0%\";\r\n                number.setAttribute(\"value\", 0);\r\n                number.innerHTML = \"0%\";\r\n            } else {\r\n                back.style.width = calcPercent + \"%\";\r\n                number.setAttribute(\"value\", calc);\r\n                number.innerHTML = calcPercent + \"%\";\r\n\r\n                if (calcPercent < 100) {\r\n                    back.classList.remove(\"error\");\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(\"Limit: \" + limit, \"ValueBar: \" + number.getAttribute(\"value\"));\r\n\r\n    }\r\n\r\n    console.log(props.value);\r\n\r\n    return (\r\n        <button value={props.value} onClick={changeBar}>\r\n            {(props.value < 0) ? props.value : \"+\" + props.value}\r\n        </button>\r\n    );\r\n}\r\n\r\nconst SelectBox = (props) => {\r\n\r\n    function selectBar(e) {\r\n        let idProgress = e.target.value;\r\n        const progressEl = document.getElementsByClassName(\"progressBar\");\r\n        console.log(idProgress);\r\n\r\n        for (let i = 0; i < progressEl.length; i++) {\r\n            progressEl[i].classList.remove(\"selected\");\r\n        }\r\n        document.getElementById(idProgress).classList.add(\"selected\");\r\n    }\r\n\r\n    return (\r\n        <select onChange={selectBar}>\r\n            {\r\n                props.value.map((value, index) =>\r\n                    <option key={index} value={'progress' + index}>Progress {index + 1}</option>\r\n                )\r\n            }\r\n        </select>\r\n    );\r\n}\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            progData: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        //- API call data get\r\n        fetch('https://pb-api.herokuapp.com/bars')\r\n            .then(response => { return response.json(); })\r\n            .then((data) => { this.setState({ progData: data, loading: false }) })\r\n            .catch((error) => { this.setState({ error }) });\r\n\r\n        //- Functions on load \r\n        window.addEventListener('load', this.onLoadEvents);\r\n    }\r\n\r\n    onLoadEvents() {\r\n\r\n        //- On click progress bars\r\n        const progressBars = document.querySelectorAll(\".progressBar\");\r\n        console.log(idProgress);\r\n\r\n        for (let i = 0; i < progressBars.length; i++) {\r\n            progressBars[i].classList.remove(\"selected\");\r\n        }\r\n        document.getElementById(idProgress).classList.add(\"selected\");\r\n    }\r\n\r\n    render() {\r\n\r\n        const { progData, loading, error } = this.state;\r\n\r\n        if (error) {\r\n            return <main><span>Something went wrong...</span></main>;\r\n        } else if (loading) {\r\n            return <main><h2>Please wait...</h2></main>;\r\n        } else {\r\n\r\n            // Log correctly\r\n            console.log(\r\n                \"Limit: \" + progData.limit,\r\n                \"Progress bars: \" + progData.bars,\r\n                \"Buttons: \" + progData.buttons);\r\n\r\n            return (\r\n                <main>\r\n                    <section id=\"progressBox\">\r\n                        <span>Choose your progress bar:</span>\r\n                        <div className=\"choose\">\r\n                            {progData && progData.bars && (\r\n                                progData.bars.map((value, index) =>\r\n                                    <ProgressComp\r\n                                        class={index === 0 ? \"progressBar selected\" : \"progressBar\"}\r\n                                        key={index}\r\n                                        id={'progress' + index}\r\n                                        value={value}\r\n                                        num={Math.round(value * 100 / progData.limit) + '%'}\r\n                                    />\r\n                                )\r\n                            )}\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section id=\"controls\">\r\n\r\n                        {progData && progData.bars && (\r\n                            <SelectBox value={progData.bars} />\r\n                        )}\r\n\r\n                        <div className=\"change\">\r\n                            <span>Change your progress bar:</span>\r\n                            {progData && progData.buttons && (\r\n                                progData.buttons.map((value, index) =>\r\n                                    <Button key={index} limit={progData.limit} value={value} />\r\n                                )\r\n                            )}\r\n                        </div>\r\n\r\n                    </section>\r\n                </main>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}