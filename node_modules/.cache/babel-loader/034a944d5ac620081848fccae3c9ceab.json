{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Simone\\\\Documents\\\\WebDesign\\\\_Testing\\\\progress-bar\\\\src\\\\template\\\\Main.js\";\nimport React, { Component } from 'react';\n\nclass ProgressComp extends Component {\n  selectBar(index, value) {\n    console.log(index, value);\n    const progressEl = document.getElementsByClassName(\"progressBar\");\n\n    for (let i = 0; i < progressEl.length; i++) {\n      progressEl[i].classList.remove(\"selected\");\n    }\n\n    progressEl[index].classList.add(\"selected\");\n    console.log(this.props.changeBar());\n  }\n\n  percentBar() {\n    let percentOfLimit = Math.round(this.props.value * 100 / this.props.limit) + '%';\n    return percentOfLimit;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: this.props.class,\n      onClick: () => this.selectBar(this.props.index, this.props.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"percent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, this.percentBar()), React.createElement(\"div\", {\n      style: {\n        width: this.percentBar()\n      },\n      className: \"back\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass Button extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      limit: props.limit,\n      initValue: 0,\n      value: props.value\n    };\n  }\n\n  changeBar(e) {\n    let number = document.querySelector(\".progressBar.selected .percent\");\n    let back = document.querySelector(\".progressBar.selected .back\");\n    const limit = this.state.limit;\n    let initialVal = this.state.initValue; //- Initial value\n\n    const val = this.sate.value; //- Button value\n\n    if (val.indexOf('-') === -1) {\n      console.log('Positive!');\n      let initPercent = Math.round(initialVal * 100 / limit);\n      let valPercent = Math.round(val * 100 / limit);\n      let calcPercent = initPercent + valPercent;\n      let calc = parseInt(initialVal) + parseInt(val);\n      back.classList.remove(\"error\");\n\n      if (calcPercent > 100) {\n        back.style.width = \"100%\";\n        back.classList.add(\"error\");\n      } else {\n        back.style.width = calcPercent + \"%\";\n      }\n\n      number.setAttribute(\"value\", calc);\n      number.innerHTML = calcPercent + \"%\";\n    } else {\n      console.log('Negative!');\n      let valPos = val * -1;\n      let initPercent = Math.round(initialVal * 100 / limit);\n      let valPercent = Math.round(valPos * 100 / limit);\n      let calcPercent = initPercent - valPercent;\n      let calc = parseInt(initialVal) - parseInt(valPos);\n\n      if (calcPercent < 0) {\n        back.style.width = \"0%\";\n        number.setAttribute(\"value\", 0);\n        number.innerHTML = \"0%\";\n      } else {\n        back.style.width = calcPercent + \"%\";\n        number.setAttribute(\"value\", calc);\n        number.innerHTML = calcPercent + \"%\";\n\n        if (calcPercent < 100) {\n          back.classList.remove(\"error\");\n        }\n      }\n    }\n  }\n\n  render() {\n    const valueBar = this.props.value;\n    return React.createElement(\"button\", {\n      onClick: this.changeBar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, valueBar < 0 ? valueBar + \" $\" : \"+\" + valueBar + \" $\");\n  }\n\n}\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    this.changeBar = this.changeBar.bind(this);\n    this.state = {\n      loading: true,\n      barSelected: {\n        index: 0,\n        initVal: 0\n      },\n      progData: []\n    };\n  }\n\n  componentDidMount() {\n    //- API call data get\n    fetch('https://pb-api.herokuapp.com/bars').then(response => {\n      return response.json();\n    }).then(data => {\n      this.setState({\n        progData: data,\n        loading: false\n      });\n    }).catch(error => {\n      this.setState({\n        error\n      });\n    });\n  }\n\n  changeBar(val) {\n    this.setState({\n      barSelected: val\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          progData = _this$state.progData,\n          barSelected = _this$state.barSelected,\n          loading = _this$state.loading,\n          error = _this$state.error;\n\n    if (error) {\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Something went wrong...\"));\n    } else if (loading) {\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Please wait...\"));\n    } else {\n      // Log correctly\n      console.log(\"Limit: \" + progData.limit, \"Progress bars: \" + progData.bars, \"Buttons: \" + progData.buttons, \"Initial: \" + barSelected.initVal);\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        id: \"progressBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Choose your progress bar:\"), React.createElement(\"div\", {\n        className: \"choose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, progData && progData.bars && progData.bars.map((value, index) => React.createElement(ProgressComp, {\n        key: index,\n        index: index,\n        class: index === 0 ? \"progressBar selected\" : \"progressBar\",\n        value: value,\n        limit: progData.limit,\n        action: this.changeBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })))), React.createElement(\"section\", {\n        id: \"controls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"change\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Add or remove money:\"), progData && progData.buttons && progData.buttons.map((value, index) => React.createElement(Button, {\n        key: index,\n        value: value,\n        bar: barSelected,\n        limit: progData.limit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })))), React.createElement(\"section\", {\n        id: \"limit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Budget limit: \", progData.limit, \"$ \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"(limit = 100%)\"))));\n    }\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["C:/Users/Simone/Documents/WebDesign/_Testing/progress-bar/src/template/Main.js"],"names":["React","Component","ProgressComp","selectBar","index","value","console","log","progressEl","document","getElementsByClassName","i","length","classList","remove","add","props","changeBar","percentBar","percentOfLimit","Math","round","limit","render","class","width","Button","constructor","state","initValue","e","number","querySelector","back","initialVal","val","sate","indexOf","initPercent","valPercent","calcPercent","calc","parseInt","style","setAttribute","innerHTML","valPos","valueBar","Main","bind","loading","barSelected","initVal","progData","componentDidMount","fetch","then","response","json","data","setState","catch","error","bars","buttons","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ProgressComp extends Component {\r\n\r\n    selectBar(index, value) {\r\n        console.log(index, value);\r\n        const progressEl = document.getElementsByClassName(\"progressBar\");\r\n\r\n        for (let i = 0; i < progressEl.length; i++) {\r\n            progressEl[i].classList.remove(\"selected\");\r\n        }\r\n\r\n        progressEl[index].classList.add(\"selected\");\r\n        console.log(this.props.changeBar());\r\n    }\r\n\r\n    percentBar() {\r\n        let percentOfLimit = Math.round(this.props.value * 100 / this.props.limit) + '%';\r\n        return percentOfLimit;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.class} onClick={() => this.selectBar(this.props.index, this.props.value)} >\r\n                <div className=\"percent\">{this.percentBar()}</div>\r\n                <div style={{ width: this.percentBar() }} className=\"back\"></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Button extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            limit: props.limit,\r\n            initValue: 0,\r\n            value: props.value\r\n        };\r\n    }\r\n\r\n    changeBar(e) {\r\n\r\n        let number = document.querySelector(\".progressBar.selected .percent\");\r\n        let back = document.querySelector(\".progressBar.selected .back\");\r\n\r\n        const limit = this.state.limit;\r\n        let initialVal = this.state.initValue; //- Initial value\r\n        const val = this.sate.value; //- Button value\r\n\r\n        if (val.indexOf('-') === -1) {\r\n\r\n            console.log('Positive!');\r\n\r\n            let initPercent = Math.round(initialVal * 100 / limit);\r\n            let valPercent = Math.round(val * 100 / limit);\r\n            let calcPercent = initPercent + valPercent;\r\n            let calc = parseInt(initialVal) + parseInt(val);\r\n\r\n            back.classList.remove(\"error\");\r\n\r\n            if (calcPercent > 100) {\r\n                back.style.width = \"100%\";\r\n                back.classList.add(\"error\");\r\n            } else {\r\n                back.style.width = calcPercent + \"%\";\r\n            }\r\n\r\n            number.setAttribute(\"value\", calc);\r\n            number.innerHTML = calcPercent + \"%\";\r\n\r\n        } else {\r\n\r\n            console.log('Negative!');\r\n\r\n            let valPos = val * -1;\r\n\r\n            let initPercent = Math.round(initialVal * 100 / limit);\r\n            let valPercent = Math.round(valPos * 100 / limit);\r\n            let calcPercent = initPercent - valPercent;\r\n            let calc = parseInt(initialVal) - parseInt(valPos);\r\n\r\n            if (calcPercent < 0) {\r\n                back.style.width = \"0%\";\r\n                number.setAttribute(\"value\", 0);\r\n                number.innerHTML = \"0%\";\r\n            } else {\r\n                back.style.width = calcPercent + \"%\";\r\n                number.setAttribute(\"value\", calc);\r\n                number.innerHTML = calcPercent + \"%\";\r\n\r\n                if (calcPercent < 100) {\r\n                    back.classList.remove(\"error\");\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const valueBar = this.props.value;\r\n\r\n        return (\r\n            <button onClick={this.changeBar}>\r\n                {(valueBar < 0) ? valueBar + \" $\" : \"+\" + valueBar + \" $\"}\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeBar = this.changeBar.bind(this);\r\n        this.state = {\r\n            loading: true,\r\n            barSelected: { index: 0, initVal: 0 },\r\n            progData: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        //- API call data get\r\n        fetch('https://pb-api.herokuapp.com/bars')\r\n            .then(response => { return response.json(); })\r\n            .then((data) => { this.setState({ progData: data, loading: false }) })\r\n            .catch((error) => { this.setState({ error }) });\r\n\r\n    }\r\n\r\n    changeBar(val) {\r\n        this.setState({\r\n            barSelected: val\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { progData, barSelected, loading, error } = this.state;\r\n\r\n        if (error) {\r\n            return <main><span>Something went wrong...</span></main>;\r\n        } else if (loading) {\r\n            return <main><h2>Please wait...</h2></main>;\r\n        } else {\r\n\r\n            // Log correctly\r\n            console.log(\r\n                \"Limit: \" + progData.limit,\r\n                \"Progress bars: \" + progData.bars,\r\n                \"Buttons: \" + progData.buttons,\r\n                \"Initial: \" + barSelected.initVal);\r\n\r\n            return (\r\n                <main>\r\n                    <section id=\"progressBox\">\r\n                        <span>Choose your progress bar:</span>\r\n                        <div className=\"choose\">\r\n                            {progData && progData.bars && (\r\n                                progData.bars.map((value, index) =>\r\n                                    <ProgressComp\r\n                                        key={index}\r\n                                        index={index}\r\n                                        class={index === 0 ? \"progressBar selected\" : \"progressBar\"}\r\n                                        value={value}\r\n                                        limit={progData.limit}\r\n                                        action={this.changeBar}\r\n                                    />\r\n                                )\r\n                            )}\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section id=\"controls\">\r\n                        <div className=\"change\">\r\n                            <span>Add or remove money:</span>\r\n                            {progData && progData.buttons && (\r\n                                progData.buttons.map((value, index) =>\r\n                                    <Button\r\n                                        key={index}\r\n                                        value={value}\r\n                                        bar={barSelected}\r\n                                        limit={progData.limit}\r\n                                    />\r\n                                )\r\n                            )}\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section id=\"limit\">\r\n                        <span>Budget limit: {progData.limit}$ <i>(limit = 100%)</i></span>\r\n                    </section>\r\n                </main>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}